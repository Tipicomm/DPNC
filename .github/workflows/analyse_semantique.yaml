name: ğŸ§  Analyse sÃ©mantique - CartoDataMc

on:
  workflow_dispatch:

jobs:
  analyse:
    runs-on: ubuntu-latest
    env:
      OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}

    steps:
      - name: ğŸ“¥ Cloner le dÃ©pÃ´t
        uses: actions/checkout@v3

      - name: ğŸ Installer Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.11"

      - name: ğŸ“¦ Installer les dÃ©pendances
        run: |
          pip install pandas openai tqdm

      - name: â–¶ï¸ ExÃ©cuter le script dâ€™analyse
        run: python CartoDataMC/analyse_semantique.py

      - name: ğŸ“ VÃ©rifier le fichier gÃ©nÃ©rÃ©
        run: |
          echo "ğŸ“„ Contenu de CartoDataMC/"
          ls -lh CartoDataMC/
